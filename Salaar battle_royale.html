<!DOCTYPE html>
<html>
<head>
  <title>Battle Royale Web Game</title>
  <style>
    body {
      margin: 0;
      background: black;
      color: white;
      font-family: Arial;
      text-align: center;
    }

    canvas {
      background: #222;
      display: block;
      margin: auto;
    }

    h1 {
      color: red;
    }
  </style>
</head>

<body>
  <h1>Battle Royale - Last Warrior</h1>
  <p>Move: Arrow Keys | Shoot: Space</p>
  <canvas id="game" width="800" height="500"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    let player = { x: 400, y: 250, size: 20, speed: 4 };
    let bullets = [];
    let enemies = [];
    let score = 0;

    document.addEventListener("keydown", movePlayer);

    function movePlayer(e) {
      if (e.key === "ArrowUp") player.y -= player.speed;
      if (e.key === "ArrowDown") player.y += player.speed;
      if (e.key === "ArrowLeft") player.x -= player.speed;
      if (e.key === "ArrowRight") player.x += player.speed;
      if (e.key === " ") shoot();
    }

    function shoot() {
      bullets.push({ x: player.x, y: player.y, size: 5, speed: 7 });
    }

    function spawnEnemy() {
      let x = Math.random() * canvas.width;
      let y = Math.random() * canvas.height;
      enemies.push({ x, y, size: 20, speed: 1.5 });
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Player
      ctx.fillStyle = "blue";
      ctx.fillRect(player.x, player.y, player.size, player.size);

      // Bullets
      ctx.fillStyle = "yellow";
      bullets.forEach((b, i) => {
        b.y -= b.speed;
        ctx.fillRect(b.x, b.y, b.size, b.size);
      });

      // Enemies
      ctx.fillStyle = "red";
      enemies.forEach((e, i) => {
        if (player.x < e.x) e.x -= e.speed;
        if (player.x > e.x) e.x += e.speed;
        if (player.y < e.y) e.y -= e.speed;
        if (player.y > e.y) e.y += e.speed;

        ctx.fillRect(e.x, e.y, e.size, e.size);

        // Collision
        bullets.forEach((b, bi) => {
          if (b.x < e.x + e.size &&
              b.x + b.size > e.x &&
              b.y < e.y + e.size &&
              b.y + b.size > e.y) {
            enemies.splice(i, 1);
            bullets.splice(bi, 1);
            score++;
          }
        });
      });

      ctx.fillStyle = "white";
      ctx.fillText("Score: " + score, 10, 20);

      requestAnimationFrame(update);
    }

    setInterval(spawnEnemy, 1500);
    update();
  </script>
</body>
</html>
